raw code, works but need cleanup and add the libs debug stack info... threads info
